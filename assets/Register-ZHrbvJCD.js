import{u as p,r as n,j as a,H as x,L as g,f as w}from"./index-DNJDnrwC.js";import{c as j,a as s,b,u as N}from"./index.esm-p72fFgC1.js";function y(){let t=p(),[o,r]=n.useState(!1),[l,i]=n.useState(null);async function d(h){r(!0);let{data:c}=await w.post("https://ecommerce.routemisr.com/api/v1/auth/signup",h).catch(u=>{i(u.response.data.message),r(!1)});c.message=="success"&&(r(!1),t("/login"))}let m=j({name:s().required("Name is Required").min(3,"Name must be at least 3 characters").max(10,"Name can not exceed 10 characters"),email:s().required("Email is Required").email("Invalid Email"),password:s().required("Password is Required").matches(/^[A-Z][\w ]{5,8}$/,"Invalid Password EX:Ahmed123"),rePassword:s().required("Re-Password is Required").oneOf([b("password")],"Passwords do not match!"),phone:s().required("Phone Number is Required").matches(/^01[0125][0-9]{8}$/,"Invalid Phone")}),e=N({initialValues:{name:"",email:"",password:"",rePassword:"",phone:""},validationSchema:m,onSubmit:d});return a.jsxs(a.Fragment,{children:[a.jsxs(x,{children:[a.jsx("meta",{charSet:"utf-8"}),a.jsx("title",{children:"Register"})]}),a.jsxs("div",{className:"w-75 mx-auto py-4",children:[a.jsx("h2",{children:"Register Now!"}),a.jsxs("form",{onSubmit:e.handleSubmit,children:[l?a.jsx("div",{className:"alert alert-danger",children:l}):null,a.jsx("label",{htmlFor:"name",children:"Name : "}),a.jsx("input",{onChange:e.handleChange,onBlur:e.handleBlur,type:"text",name:"name",className:"mb-3 form-control",id:"name"}),e.errors.name&&e.touched.name?a.jsx("div",{className:"alert alert-danger py-2",children:e.errors.name}):null,a.jsx("label",{htmlFor:"email",children:"Email : "}),a.jsx("input",{onChange:e.handleChange,onBlur:e.handleBlur,type:"email",name:"email",className:"mb-3 form-control",id:"email"}),e.errors.email&&e.touched.email?a.jsx("div",{className:"alert alert-danger py-2",children:e.errors.email}):null,a.jsx("label",{htmlFor:"password",children:"Password : "}),a.jsx("input",{onChange:e.handleChange,onBlur:e.handleBlur,type:"password",name:"password",className:"mb-3 form-control",id:"password"}),e.errors.password&&e.touched.password?a.jsx("div",{className:"alert alert-danger py-2",children:e.errors.password}):null,a.jsx("label",{htmlFor:"rePassword",children:"RePassword : "}),a.jsx("input",{onChange:e.handleChange,onBlur:e.handleBlur,type:"password",name:"rePassword",className:"mb-3 form-control",id:"rePassword"}),e.errors.rePassword&&e.touched.rePassword?a.jsx("div",{className:"alert alert-danger py-2",children:e.errors.rePassword}):null,a.jsx("label",{htmlFor:"phone",children:"Phone : "}),a.jsx("input",{onChange:e.handleChange,onBlur:e.handleBlur,type:"tel",name:"phone",className:"mb-3 form-control",id:"phone"}),e.errors.phone&&e.touched.phone?a.jsx("div",{className:"alert alert-danger py-2",children:e.errors.phone}):null,o?a.jsx("button",{className:"btn text-light bg-main",type:"button",children:a.jsx("i",{className:"fas fa-spinner fa-spin"})}):a.jsx("button",{disabled:!(e.dirty&&e.isValid),className:"btn text-light bg-main",type:"submit",children:"Register"}),a.jsx(g,{className:"ps-3",to:"/login",children:"Login Now"})]})]})]})}export{y as default};
