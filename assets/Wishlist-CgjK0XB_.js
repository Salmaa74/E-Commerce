import{r as a,W as f,c as g,j as s,H as N,L as b,_ as n}from"./index-CMw2jDaq.js";function p(){const{removeFromWishlist:c,getWishlist:r,wishNum:o}=a.useContext(f),[m,i]=a.useState(!0),[d,l]=a.useState(null),{addToCart:h}=a.useContext(g);async function x(){const{data:e}=await r();l(e),i(!1)}async function j(e){let{data:t}=await h(e);t.status=="success"?n.success(t.message):n.error(t.message)}async function u(e){i(!0);const{data:t}=await c(e);l(t),i(!1)}return a.useEffect(()=>{x()},[]),s.jsxs(s.Fragment,{children:[s.jsxs(N,{children:[s.jsx("meta",{charSet:"utf-8"}),s.jsx("title",{children:"Wishlist"})]}),s.jsxs("div",{className:"bg-main-light p-3 mt-5",children:[s.jsx("h2",{className:" fw-bolder text-center",children:"My WishList"}),m?s.jsx(b,{}):o==0?s.jsxs("div",{className:"d-flex justify-content-between",children:[s.jsx("p",{className:"h3 py-5 fw-bolder text-main",children:' "Your wishlist is currently empty. Start adding items you love to create your personalized collection!"'})," "]}):s.jsx(s.Fragment,{children:d.data.map(e=>{var t;return s.jsxs("div",{className:"row border-1 border-bottom m-2 align-items-center",children:[s.jsx("div",{className:"col-md-2",children:s.jsx("img",{src:e.imageCover,alt:e.title,className:"w-100"})}),s.jsxs("div",{className:"col-md-8",children:[s.jsx("h3",{className:"h5 fw-bolder",children:(t=e.title)==null?void 0:t.split(" ").splice(0,3).join(" ")}),s.jsxs("p",{children:[s.jsxs("span",{className:"text-main",children:[e.price," "]})," EGP"]}),s.jsxs("button",{className:"btn btn-sm m-0 p-0 text-danger",onClick:()=>u(e._id),children:[s.jsx("i",{className:"fas fa-sm fa-trash "})," Remove"]})]}),s.jsx("div",{className:"col-md-2",children:s.jsx("button",{className:"btn bg-main text-light w-100",onClick:()=>j(e._id),children:"Add To Cart"})})]},e._id)})})]})]})}export{p as default};
